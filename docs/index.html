<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenCode 汉化发行版 - 全自动构建的 AI 编程助手中文版</title>
    <meta name="keywords" content="OpenCode, OpenCode中文版, AI编程, 汉化补丁, Cursor替代品, 自动构建, 每日更新">
    <meta name="description" content="OpenCode 全自动汉化发行版。每日同步官方最新源码，自动构建 Windows、macOS、Linux 中文安装包。提供一键安装脚本，让 AI 编程更懂中国开发者。">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://1186258278.github.io/OpenCodeChineseTranslation/">
    <meta property="og:title" content="OpenCode 汉化发行版">
    <meta property="og:description" content="每日自动构建，全平台一键安装，开箱即用的 AI 编程体验。">
    <meta property="og:image" content="https://1186258278.github.io/OpenCodeChineseTranslation/docs/01.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // iOS 色彩系统
                        primary: '#007AFF',
                        secondary: '#5856D6',
                        accent: '#AF52DE',
                        success: '#34C759',
                        warning: '#FF9500',
                        danger: '#FF3B30',
                        // 暗色模式
                        dark: {
                            bg: '#000000',
                            card: 'rgba(44,44,46,0.8)',
                            border: 'rgba(255,255,255,0.1)',
                        }
                    },
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        :root {
            /* 缓动函数库 */
            --ease-out: cubic-bezier(0.25, 0.46, 0.45, 0.94);
            --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
            --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
            --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
            
            /* iOS 色彩 */
            --ios-blue: #007AFF;
            --ios-purple: #5856D6;
            --ios-pink: #FF2D55;
            --ios-green: #34C759;
        }
        
        * {
            -webkit-tap-highlight-color: transparent;
        }
        
        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(180deg, #000000 0%, #1C1C1E 100%);
            min-height: 100vh;
        }
        
        /* ========== 彩色光晕装饰 ========== */
        .glow-blob {
            position: fixed;
            border-radius: 50%;
            filter: blur(100px);
            opacity: 0.4;
            pointer-events: none;
            z-index: 0;
            animation: float 25s ease-in-out infinite;
        }
        .glow-blue {
            width: 50%;
            height: 50%;
            top: -20%;
            left: -10%;
            background: radial-gradient(circle, rgba(0, 122, 255, 0.4) 0%, transparent 70%);
        }
        .glow-purple {
            width: 40%;
            height: 40%;
            top: 30%;
            right: -15%;
            background: radial-gradient(circle, rgba(88, 86, 214, 0.35) 0%, transparent 70%);
            animation-delay: -8s;
        }
        .glow-pink {
            width: 35%;
            height: 35%;
            bottom: 10%;
            left: 20%;
            background: radial-gradient(circle, rgba(255, 45, 85, 0.25) 0%, transparent 70%);
            animation-delay: -15s;
        }
        
        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(30px, -30px) scale(1.05); }
            66% { transform: translate(-20px, 20px) scale(0.95); }
        }
        
        /* ========== 玻璃效果层级 ========== */
        /* 一级玻璃 - 导航栏/浮窗 */
        .glass-primary {
            background: rgba(44, 44, 46, 0.75);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.12);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        /* 二级玻璃 - 卡片/面板 */
        .glass-secondary {
            background: rgba(44, 44, 46, 0.65);
            backdrop-filter: blur(16px) saturate(150%);
            -webkit-backdrop-filter: blur(16px) saturate(150%);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.25);
        }
        
        /* 三级玻璃 - 输入框/按钮 */
        .glass-tertiary {
            background: rgba(58, 58, 60, 0.6);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.06);
        }
        
        /* ========== 悬浮微交互 ========== */
        .hover-lift {
            transition: all 0.3s var(--ease-out);
        }
        .hover-lift:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.35);
        }
        
        .hover-glow:hover {
            box-shadow: 0 0 30px rgba(0, 122, 255, 0.3);
            border-color: rgba(0, 122, 255, 0.5);
        }
        
        /* ========== 按钮系统 ========== */
        .btn-ios {
            position: relative;
            overflow: hidden;
            transition: all 0.2s var(--ease-out);
        }
        .btn-ios:active {
            transform: scale(0.97);
        }
        
        /* 水波纹点击效果 */
        .ripple {
            position: relative;
            overflow: hidden;
        }
        .ripple::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            top: 50%;
            left: 50%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
            transform: translate(-50%, -50%) scale(0);
            opacity: 0;
            transition: transform 0.5s, opacity 0.5s;
        }
        .ripple:active::after {
            transform: translate(-50%, -50%) scale(2.5);
            opacity: 1;
            transition: 0s;
        }
        
        /* ========== 页面进入动画 ========== */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(24px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-in {
            animation: fadeInUp 0.6s var(--ease-out) forwards;
        }
        
        .stagger-1 { animation-delay: 0.1s; opacity: 0; }
        .stagger-2 { animation-delay: 0.2s; opacity: 0; }
        .stagger-3 { animation-delay: 0.3s; opacity: 0; }
        .stagger-4 { animation-delay: 0.4s; opacity: 0; }
        
        /* ========== 渐变边框光效 ========== */
        .gradient-border {
            position: relative;
        }
        .gradient-border::before {
            content: '';
            position: absolute;
            inset: 0;
            padding: 1px;
            border-radius: inherit;
            background: linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0.05));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: exclude;
            pointer-events: none;
        }
        
        /* ========== 呼吸光效 ========== */
        @keyframes breathe {
            0%, 100% { box-shadow: 0 0 0 0 rgba(0, 122, 255, 0.4); }
            50% { box-shadow: 0 0 0 8px rgba(0, 122, 255, 0); }
        }
        
        .pulse-glow {
            animation: breathe 2.5s ease-in-out infinite;
        }
        
        /* ========== Premium Browser Mockup ========== */
        .browser-mockup {
            border-radius: 20px;
            box-shadow: 0 50px 100px -20px rgba(0, 0, 0, 0.5), 
                        0 0 60px rgba(0, 122, 255, 0.1);
            background: rgba(28, 28, 30, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
            transform: perspective(1000px) rotateX(2deg);
            transition: all 0.5s var(--ease-out);
        }
        .browser-mockup:hover { 
            transform: perspective(1000px) rotateX(0deg) translateY(-8px);
            box-shadow: 0 60px 120px -20px rgba(0, 0, 0, 0.6),
                        0 0 80px rgba(0, 122, 255, 0.15);
        }
        
        .browser-header {
            background: rgba(44, 44, 46, 0.95);
            padding: 14px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.06);
        }
        .dot { width: 12px; height: 12px; border-radius: 50%; box-shadow: inset 0 1px 2px rgba(0,0,0,0.3); }
        .dot-red { background: linear-gradient(180deg, #ff6058 0%, #e0443e 100%); }
        .dot-yellow { background: linear-gradient(180deg, #ffbd2e 0%, #dea123 100%); }
        .dot-green { background: linear-gradient(180deg, #28ca42 0%, #1aab29 100%); }
        
        /* ========== Tab 样式 ========== */
        .tab-btn {
            transition: all 0.25s var(--ease-out);
        }
        .tab-btn.active {
            background: rgba(0, 122, 255, 0.15);
            color: #5AC8FA;
            border-color: rgba(0, 122, 255, 0.4);
            box-shadow: 0 0 20px rgba(0, 122, 255, 0.15);
        }

        /* ========== 下载动画 ========== */
        @keyframes downloadPulse {
            0% { transform: scale(1); }
            50% { transform: scale(0.98); opacity: 0.85; }
            100% { transform: scale(1); }
        }
        .downloading {
            animation: downloadPulse 1.5s infinite;
            pointer-events: none;
        }

        /* ========== 滚动条 ========== */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { 
            background: rgba(255, 255, 255, 0.15); 
            border-radius: 3px; 
        }
        ::-webkit-scrollbar-thumb:hover { 
            background: rgba(255, 255, 255, 0.25); 
        }
        
        /* ========== 文字渐变 ========== */
        .text-gradient {
            background: linear-gradient(135deg, #007AFF 0%, #5856D6 50%, #AF52DE 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* ========== 无障碍 ========== */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        /* Focus 状态 */
        :focus-visible {
            outline: 2px solid #007AFF;
            outline-offset: 2px;
        }
    </style>
</head>
<body class="text-gray-100 antialiased selection:bg-primary/30 selection:text-white overflow-x-hidden">

    <!-- 彩色光晕背景 -->
    <div class="glow-blob glow-blue"></div>
    <div class="glow-blob glow-purple"></div>
    <div class="glow-blob glow-pink"></div>

    <!-- Navbar -->
    <nav class="fixed w-full z-50 glass-primary transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center gap-3">
                    <div class="w-9 h-9 bg-gradient-to-br from-primary to-secondary rounded-xl flex items-center justify-center shadow-lg shadow-primary/30">
                        <i class="fa-solid fa-code text-white text-sm"></i>
                    </div>
                    <span class="text-lg font-bold tracking-tight">OpenCode 
                        <span class="text-xs font-semibold ml-1.5 bg-gradient-to-r from-primary to-secondary text-white px-2 py-0.5 rounded-full">CN</span>
                    </span>
                </div>
                <div class="hidden md:flex items-center space-x-6">
                    <a href="#features" class="text-sm font-medium text-gray-400 hover:text-white transition-colors">特性</a>
                    <a href="#gallery" class="text-sm font-medium text-gray-400 hover:text-white transition-colors">预览</a>
                    <a href="#install" class="btn-ios ripple text-sm font-semibold text-white bg-primary hover:bg-blue-600 px-5 py-2 rounded-full transition-all shadow-lg shadow-primary/30">
                        立即安装
                    </a>
                    <a href="https://github.com/1186258278/OpenCodeChineseTranslation" target="_blank" class="text-gray-400 hover:text-white transition-colors">
                        <i class="fa-brands fa-github text-xl"></i>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero -->
    <section class="pt-36 pb-24 px-4 relative z-10">
        <div class="max-w-5xl mx-auto text-center">
            <!-- Version Badge -->
            <a href="https://github.com/1186258278/OpenCodeChineseTranslation/releases/latest" target="_blank" 
               class="animate-in stagger-1 inline-flex items-center gap-2.5 px-4 py-2 rounded-full glass-tertiary text-sm font-medium mb-10 hover-lift group">
                <span class="flex h-2 w-2 rounded-full bg-success animate-pulse shadow-lg shadow-success/50"></span>
                <span id="latest-version" class="text-white">v8.6.0</span>
                <span class="text-gray-400">已发布 · 每日构建</span>
                <i class="fa-solid fa-arrow-right text-xs text-gray-500 group-hover:translate-x-1 transition-transform"></i>
            </a>
            
            <!-- Main Title -->
            <h1 class="animate-in stagger-2 text-5xl md:text-7xl font-extrabold mb-8 tracking-tight leading-[1.1]">
                让 AI 编程助手<br>
                <span class="text-gradient">更懂中国开发者</span>
            </h1>
            
            <!-- Subtitle -->
            <p class="animate-in stagger-3 text-lg md:text-xl text-gray-400 mb-12 max-w-2xl mx-auto leading-relaxed">
                OpenCode 全自动汉化发行版<br class="md:hidden">
                每日同步上游源码，自动构建全平台中文版<br>
                <span class="text-gray-500">消除语言障碍，开箱即用</span>
            </p>
            
            <!-- CTA Buttons -->
            <div class="animate-in stagger-4 flex flex-col sm:flex-row gap-4 justify-center">
                <a href="#install" class="btn-ios ripple inline-flex items-center justify-center gap-2 bg-gradient-to-r from-primary to-secondary text-white font-semibold px-8 py-4 rounded-2xl shadow-xl shadow-primary/25 hover:shadow-primary/40 transition-all text-lg">
                    <i class="fa-solid fa-download"></i>
                    <span>开始使用</span>
                </a>
                <a href="https://github.com/1186258278/OpenCodeChineseTranslation" target="_blank" 
                   class="btn-ios inline-flex items-center justify-center gap-2 glass-tertiary text-white font-medium px-8 py-4 rounded-2xl hover:bg-white/10 transition-all text-lg">
                    <i class="fa-brands fa-github"></i>
                    <span>查看源码</span>
                </a>
            </div>
        </div>
    </section>

    <!-- Download Dashboard -->
    <section id="install" class="relative px-4 z-20 pb-24">
        <div class="max-w-5xl mx-auto glass-secondary rounded-3xl overflow-hidden hover-glow transition-all duration-500">
            <!-- Header -->
            <div class="border-b border-white/5 p-6 flex flex-col md:flex-row justify-between items-center gap-4 bg-white/[0.02]">
                <div class="flex items-center gap-4 flex-wrap">
                    <!-- Channel Switcher -->
                    <div class="glass-tertiary p-1 rounded-xl flex text-xs font-bold">
                        <button onclick="switchChannel('stable')" id="chan-stable" class="px-4 py-2 rounded-lg bg-success/20 text-success border border-success/30 transition-all shadow-sm">
                            <i class="fa-solid fa-cube mr-1.5"></i> 正式版
                        </button>
                        <button onclick="switchChannel('nightly')" id="chan-nightly" class="px-4 py-2 rounded-lg text-gray-400 hover:text-warning transition-all border border-transparent">
                            <i class="fa-solid fa-moon mr-1.5"></i> Nightly
                        </button>
                    </div>

                    <div class="h-8 w-px bg-white/10 hidden md:block"></div>

                    <div id="badge-container">
                        <div class="bg-success/10 text-success px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider border border-success/20 flex items-center gap-2 shadow-lg shadow-success/10">
                            <span class="w-2 h-2 rounded-full bg-success animate-pulse"></span>
                            STABLE
                        </div>
                    </div>
                    
                    <div>
                        <h3 class="text-xl font-bold text-white flex items-center gap-3">
                            <span id="dash-version">v8.6.0</span>
                            <span class="text-xs font-medium text-gray-500 bg-white/5 px-3 py-1 rounded-lg" id="dash-date">...</span>
                        </h3>
                    </div>
                </div>
                
                <div class="flex gap-3">
                    <a href="https://github.com/1186258278/OpenCodeChineseTranslation" target="_blank" 
                       class="btn-ios text-sm glass-tertiary hover:bg-white/10 px-4 py-2.5 rounded-xl transition-all flex items-center gap-2 font-medium">
                        <i class="fa-brands fa-github"></i> GitHub
                    </a>
                    <a href="https://gitee.com/QtCodeCreators/OpenCodeChineseTranslation" target="_blank" 
                       class="btn-ios text-sm bg-danger/10 hover:bg-danger/20 text-danger border border-danger/20 px-4 py-2.5 rounded-xl transition-all flex items-center gap-2 font-medium">
                        <i class="fa-solid fa-code-branch"></i> Gitee
                    </a>
                </div>
            </div>

            <!-- Tabs -->
            <div class="p-0">
                <div class="flex border-b border-white/5 bg-black/20">
                    <button onclick="switchInstallTab('script')" id="tab-btn-script" class="flex-1 py-4 text-sm font-semibold text-white border-b-2 border-primary bg-primary/5 transition-all">
                        <i class="fa-solid fa-terminal mr-2"></i> 脚本安装 <span class="text-xs text-primary/80">(推荐)</span>
                    </button>
                    <button onclick="switchInstallTab('offline')" id="tab-btn-offline" class="flex-1 py-4 text-sm font-medium text-gray-400 border-b-2 border-transparent hover:text-white hover:bg-white/5 transition-all">
                        <i class="fa-solid fa-box-archive mr-2"></i> 离线包下载
                    </button>
                </div>

                <!-- Script Install -->
                <div id="tab-content-script" class="p-6 md:p-8">
                    <div class="flex justify-center mb-8">
                        <div class="glass-tertiary p-1 rounded-xl flex text-xs font-medium">
                            <button onclick="setSource('github')" id="src-btn-github" class="px-5 py-2 rounded-lg bg-primary text-white shadow-lg shadow-primary/20 transition-all">GitHub 源</button>
                            <button onclick="setSource('gitee')" id="src-btn-gitee" class="px-5 py-2 rounded-lg text-gray-400 hover:text-white transition-all">Gitee 国内加速</button>
                        </div>
                    </div>

                    <div class="grid gap-5 max-w-3xl mx-auto">
                        <!-- Windows -->
                        <div class="glass-tertiary rounded-2xl overflow-hidden group hover:border-primary/30 hover-lift">
                            <div class="flex items-center justify-between px-5 py-3.5 bg-white/[0.02] border-b border-white/5">
                                <div class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-lg bg-blue-500/10 flex items-center justify-center">
                                        <i class="fa-brands fa-windows text-blue-400"></i>
                                    </div>
                                    <span class="font-semibold text-sm">Windows</span>
                                    <span class="text-xs text-gray-500">PowerShell</span>
                                </div>
                            </div>
                            <div class="p-5 relative">
                                <code id="cmd-win" class="text-sm text-blue-300/90 font-mono break-all block pr-20 leading-relaxed">irm https://cdn.jsdelivr.net/gh/1186258278/OpenCodeChineseTranslation@main/install.ps1 | iex</code>
                                <button onclick="copyText('cmd-win', this)" class="absolute right-5 top-1/2 -translate-y-1/2 btn-ios ripple bg-white/10 hover:bg-primary text-white px-4 py-2 rounded-xl text-xs font-semibold transition-all">
                                    <i class="fa-regular fa-copy"></i>
                                </button>
                            </div>
                        </div>

                        <!-- macOS/Linux -->
                        <div class="glass-tertiary rounded-2xl overflow-hidden group hover:border-warning/30 hover-lift">
                            <div class="flex items-center justify-between px-5 py-3.5 bg-white/[0.02] border-b border-white/5">
                                <div class="flex items-center gap-3">
                                    <div class="flex gap-1.5">
                                        <div class="w-8 h-8 rounded-lg bg-gray-500/10 flex items-center justify-center">
                                            <i class="fa-brands fa-apple text-gray-300"></i>
                                        </div>
                                        <div class="w-8 h-8 rounded-lg bg-yellow-500/10 flex items-center justify-center">
                                            <i class="fa-brands fa-linux text-yellow-400"></i>
                                        </div>
                                    </div>
                                    <span class="font-semibold text-sm">macOS / Linux</span>
                                    <span class="text-xs text-gray-500">Bash</span>
                                </div>
                            </div>
                            <div class="p-5 relative">
                                <code id="cmd-unix" class="text-sm text-yellow-300/90 font-mono break-all block pr-20 leading-relaxed">curl -fsSL https://cdn.jsdelivr.net/gh/1186258278/OpenCodeChineseTranslation@main/install.sh | bash</code>
                                <button onclick="copyText('cmd-unix', this)" class="absolute right-5 top-1/2 -translate-y-1/2 btn-ios ripple bg-white/10 hover:bg-warning text-white px-4 py-2 rounded-xl text-xs font-semibold transition-all">
                                    <i class="fa-regular fa-copy"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Offline Packages -->
                <div id="tab-content-offline" class="hidden p-6 md:p-8">
                    <div id="loading-assets" class="text-center py-12 text-gray-400">
                        <i class="fa-solid fa-circle-notch fa-spin text-3xl mb-4 text-primary"></i>
                        <p class="text-sm">正在获取最新构建资源...</p>
                    </div>
                    <div id="assets-grid" class="grid grid-cols-1 md:grid-cols-3 gap-5 hidden">
                        <!-- Assets will be injected here -->
                    </div>
                </div>
            </div>

            <!-- Release Notes Toggle -->
            <div class="border-t border-white/5 bg-white/[0.01]">
                <button onclick="toggleNotes()" id="notes-toggle" class="w-full py-4 text-xs font-medium text-gray-500 hover:text-white transition-colors flex items-center justify-center gap-2 group">
                    <span>查看更新日志</span>
                    <i class="fa-solid fa-chevron-down group-hover:translate-y-0.5 transition-transform"></i>
                </button>
                <div id="release-notes" class="hidden border-t border-white/5 bg-black/30">
                    <div class="p-6 md:p-8 prose prose-invert prose-sm max-w-none text-gray-300" id="notes-content">
                        <!-- Notes content -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Checksums Modal -->
    <div id="checksums-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center px-4">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-md" onclick="closeChecksums()"></div>
        <div class="relative glass-primary rounded-3xl shadow-2xl max-w-2xl w-full max-h-[80vh] flex flex-col animate-in">
            <div class="flex items-center justify-between p-5 border-b border-white/10">
                <h3 class="text-sm font-bold text-white flex items-center gap-2">
                    <i class="fa-solid fa-file-shield text-success"></i> SHA256 校验和
                </h3>
                <button onclick="closeChecksums()" class="text-gray-400 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-lg">
                    <i class="fa-solid fa-xmark text-lg"></i>
                </button>
            </div>
            <div class="p-0 overflow-auto bg-black/40">
                <pre id="checksums-content" class="text-xs text-gray-300 font-mono p-5 whitespace-pre-wrap break-all"></pre>
            </div>
            <div class="p-5 border-t border-white/10 flex justify-end">
                <button onclick="copyChecksums()" class="btn-ios ripple bg-primary hover:bg-blue-600 text-white px-5 py-2.5 rounded-xl text-xs font-bold transition-all">
                    <i class="fa-regular fa-copy mr-1.5"></i> 复制全部
                </button>
            </div>
        </div>
    </div>

    <!-- Gallery -->
    <section id="gallery" class="py-24 px-4 relative z-10">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4">界面预览</h2>
                <div class="flex justify-center gap-2">
                    <button onclick="switchTab('main')" id="btn-main" class="tab-btn active px-5 py-2 rounded-xl border border-transparent text-sm font-medium text-gray-400 hover:text-white transition-all">主界面</button>
                    <button onclick="switchTab('dialog')" id="btn-dialog" class="tab-btn px-5 py-2 rounded-xl border border-transparent text-sm font-medium text-gray-400 hover:text-white transition-all">对话框</button>
                    <button onclick="switchTab('mcp')" id="btn-mcp" class="tab-btn px-5 py-2 rounded-xl border border-transparent text-sm font-medium text-gray-400 hover:text-white transition-all">MCP配置</button>
                </div>
            </div>

            <div class="browser-mockup max-w-5xl mx-auto">
                <div class="browser-header">
                    <div class="flex gap-2">
                        <div class="dot dot-red"></div>
                        <div class="dot dot-yellow"></div>
                        <div class="dot dot-green"></div>
                    </div>
                    <div class="flex-1 text-center">
                        <div class="glass-tertiary rounded-lg px-4 py-1.5 text-xs text-gray-500 inline-block w-72">opencode://editor/preview</div>
                    </div>
                </div>
                <div class="relative bg-[#1C1C1E] aspect-video md:aspect-[16/9] overflow-hidden group">
                    <img id="preview-img" src="01.png" alt="Preview" class="w-full h-full object-cover object-top transition-all duration-700 group-hover:scale-[1.02]" style="opacity: 1; transition: opacity 0.3s;">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent pointer-events-none"></div>
                    <div class="absolute bottom-6 left-6 right-6 flex justify-between items-end pointer-events-none">
                        <span id="preview-desc" class="text-white font-bold text-lg drop-shadow-lg">全功能管理工具 (CLI) · 一键部署</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Grid -->
    <section id="features" class="py-24 relative z-10">
        <div class="max-w-6xl mx-auto px-4">
            <div class="text-center mb-16">
                <h2 class="text-3xl font-bold mb-4">为什么选择我们</h2>
                <p class="text-gray-400">专为中国开发者打造的 AI 编程体验</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="glass-secondary rounded-3xl p-8 hover-lift hover-glow transition-all duration-300 gradient-border">
                    <div class="w-14 h-14 rounded-2xl bg-primary/10 flex items-center justify-center mb-6">
                        <i class="fa-solid fa-sync text-primary text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">每日自动构建</h3>
                    <p class="text-gray-400 text-sm leading-relaxed">基于 GitHub Actions 的 CI/CD 流水线，每天定时拉取官方最新代码，零延迟体验新功能。</p>
                </div>
                
                <div class="glass-secondary rounded-3xl p-8 hover-lift hover-glow transition-all duration-300 gradient-border">
                    <div class="w-14 h-14 rounded-2xl bg-secondary/10 flex items-center justify-center mb-6">
                        <i class="fa-solid fa-globe text-secondary text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">全量深度汉化</h3>
                    <p class="text-gray-400 text-sm leading-relaxed">覆盖菜单、设置、对话框及 TUI 界面。不仅仅是翻译，更是符合中文语境的本地化。</p>
                </div>
                
                <div class="glass-secondary rounded-3xl p-8 hover-lift hover-glow transition-all duration-300 gradient-border">
                    <div class="w-14 h-14 rounded-2xl bg-success/10 flex items-center justify-center mb-6">
                        <i class="fa-solid fa-rocket text-success text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">国内极速下载</h3>
                    <p class="text-gray-400 text-sm leading-relaxed">内置 CDN 加速逻辑，智能切换 Gitee 镜像，彻底解决国内网络环境下的安装难题。</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="border-t border-white/5 py-16 relative z-10 bg-black/40">
        <div class="max-w-7xl mx-auto px-4">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-10 mb-12 text-sm">
                <div class="flex flex-col gap-3">
                    <h4 class="text-white font-bold mb-2">资源</h4>
                    <a href="https://github.com/1186258278/OpenCodeChineseTranslation" class="text-gray-400 hover:text-primary transition-colors">GitHub 仓库</a>
                    <a href="https://gitee.com/QtCodeCreators/OpenCodeChineseTranslation" class="text-gray-400 hover:text-primary transition-colors">Gitee 镜像</a>
                    <a href="https://github.com/1186258278/OpenCodeChineseTranslation/releases" class="text-gray-400 hover:text-primary transition-colors">历史版本</a>
                </div>
                <div class="flex flex-col gap-3">
                    <h4 class="text-white font-bold mb-2">支持</h4>
                    <a href="https://github.com/1186258278/OpenCodeChineseTranslation/issues" class="text-gray-400 hover:text-primary transition-colors">问题反馈</a>
                    <a href="#" class="text-gray-400 hover:text-primary transition-colors">使用文档</a>
                </div>
                <div class="flex flex-col gap-3">
                    <h4 class="text-white font-bold mb-2">友情链接</h4>
                    <a href="https://opencode.ai/" target="_blank" class="text-gray-400 hover:text-primary transition-colors">OpenCode 官网</a>
                    <a href="https://qingchencloud.com/" target="_blank" class="text-primary hover:text-blue-400 transition-colors">晴辰云</a>
                </div>
                <div class="flex flex-col gap-3">
                    <h4 class="text-white font-bold mb-2">关于</h4>
                    <span class="text-xs text-gray-600">本项目与 Anomaly Company 无附属关系。</span>
                    <span class="text-xs text-gray-600">遵循 MIT 开源协议。</span>
                </div>
            </div>
            
            <div class="border-t border-white/5 pt-8 text-center">
                <p class="text-gray-600 text-xs">
                    &copy; 2026 OpenCode Chinese Translation Team. 干净如水晶 · 轻盈如羽毛 · 精致如苹果 · 流畅如丝绸
                </p>
            </div>
        </div>
    </footer>

    <script>
        // Image Gallery Logic
        const imageData = {
            'main': { src: '01.png', desc: '全功能管理工具 (CLI) · 一键部署' },
            'dialog': { src: '02.png', desc: '沉浸式汉化体验 · 主编辑器' },
            'mcp': { src: '05.png', desc: '无障碍交互 · 设置与对话框' }
        };

        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`btn-${tab}`).classList.add('active');
            
            const img = document.getElementById('preview-img');
            const desc = document.getElementById('preview-desc');
            
            img.style.opacity = '0';
            setTimeout(() => {
                img.src = imageData[tab].src;
                desc.textContent = imageData[tab].desc;
                img.style.opacity = '1';
            }, 200);
        }

        // Download Animation
        function startDownload(btn) {
            if (btn.classList.contains('downloading')) return;
            
            const originalContent = btn.innerHTML;
            btn.classList.add('downloading');
            btn.innerHTML = '<i class="fa-solid fa-circle-notch fa-spin"></i> 正在请求...';
            
            setTimeout(() => {
                btn.classList.remove('downloading');
                btn.innerHTML = originalContent;
            }, 3000);
        }

        // --- Dashboard Logic ---
        let currentSource = 'github';
        let currentChannel = 'stable';
        const repo = '1186258278/OpenCodeChineseTranslation';
        let releaseData = null;
        let releaseCache = { stable: null, nightly: null };

        const getSafeCmds = (channel) => {
             if (channel !== 'nightly') {
                 return {
                    github: {
                        win: `irm https://cdn.jsdelivr.net/gh/1186258278/OpenCodeChineseTranslation@main/install.ps1 | iex`,
                        unix: `curl -fsSL https://cdn.jsdelivr.net/gh/1186258278/OpenCodeChineseTranslation@main/install.sh | bash`
                    },
                    gitee: {
                        win: `irm https://gitee.com/QtCodeCreators/OpenCodeChineseTranslation/raw/main/install.ps1 | iex`,
                        unix: `curl -fsSL https://gitee.com/QtCodeCreators/OpenCodeChineseTranslation/raw/main/install.sh | bash`
                    }
                 };
             }
             return {
                github: {
                    win: `irm https://cdn.jsdelivr.net/gh/1186258278/OpenCodeChineseTranslation@main/install.ps1 -OutFile $env:TEMP\\opencode-inst.ps1; & $env:TEMP\\opencode-inst.ps1 -Version nightly`,
                    unix: `curl -fsSL https://cdn.jsdelivr.net/gh/1186258278/OpenCodeChineseTranslation@main/install.sh | bash -s -- --version=nightly`
                },
                gitee: {
                    win: `irm https://gitee.com/QtCodeCreators/OpenCodeChineseTranslation/raw/main/install.ps1 -OutFile $env:TEMP\\opencode-inst.ps1; & $env:TEMP\\opencode-inst.ps1 -Version nightly`,
                    unix: `curl -fsSL https://gitee.com/QtCodeCreators/OpenCodeChineseTranslation/raw/main/install.sh | bash -s -- --version=nightly`
                }
             };
        }

        async function switchChannel(channel) {
            currentChannel = channel;
            
            const btnStable = document.getElementById('chan-stable');
            const btnNightly = document.getElementById('chan-nightly');
            const badgeContainer = document.getElementById('badge-container');
            
            if (channel === 'stable') {
                btnStable.className = 'px-4 py-2 rounded-lg bg-success/20 text-success border border-success/30 transition-all shadow-sm';
                btnNightly.className = 'px-4 py-2 rounded-lg text-gray-400 hover:text-warning transition-all border border-transparent';
                badgeContainer.innerHTML = `
                    <div class="bg-success/10 text-success px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider border border-success/20 flex items-center gap-2 shadow-lg shadow-success/10">
                        <span class="w-2 h-2 rounded-full bg-success animate-pulse"></span>
                        STABLE
                    </div>`;
            } else {
                btnStable.className = 'px-4 py-2 rounded-lg text-gray-400 hover:text-success transition-all border border-transparent';
                btnNightly.className = 'px-4 py-2 rounded-lg bg-warning/20 text-warning border border-warning/30 transition-all shadow-sm';
                badgeContainer.innerHTML = `
                    <div class="bg-warning/10 text-warning px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider border border-warning/20 flex items-center gap-2 shadow-lg shadow-warning/10">
                        <span class="w-2 h-2 rounded-full bg-warning animate-pulse"></span>
                        NIGHTLY
                    </div>`;
            }
            
            setSource(currentSource);
            
            if (releaseCache[channel]) {
                applyReleaseData(releaseCache[channel]);
            } else {
                document.getElementById('dash-version').textContent = 'Loading...';
                document.getElementById('dash-date').textContent = '...';
                await fetchReleaseData(channel);
            }
        }
        
        async function fetchReleaseData(channel) {
            const endpoint = channel === 'stable' ? 'latest' : 'tags/nightly';
            try {
                const resp = await fetch(`https://api.github.com/repos/${repo}/releases/${endpoint}`);
                if (!resp.ok) throw new Error(`HTTP ${resp.status}`);
                const data = await resp.json();
                releaseCache[channel] = data;
                applyReleaseData(data);
            } catch (e) {
                console.error(`Failed to fetch ${channel}:`, e);
                if (channel === 'stable') applyReleaseData(fallbackRelease, true);
                else {
                    document.getElementById('dash-version').textContent = 'Error';
                    document.getElementById('notes-content').innerHTML = '<p class="text-danger">无法加载 Nightly 版本信息。</p>';
                }
            }
        }

        function switchInstallTab(tab) {
            document.getElementById('tab-content-script').classList.add('hidden');
            document.getElementById('tab-content-offline').classList.add('hidden');
            document.getElementById(`tab-content-${tab}`).classList.remove('hidden');

            const btnScript = document.getElementById('tab-btn-script');
            const btnOffline = document.getElementById('tab-btn-offline');

            [btnScript, btnOffline].forEach(btn => {
                btn.className = 'flex-1 py-4 text-sm font-medium text-gray-400 border-b-2 border-transparent hover:text-white hover:bg-white/5 transition-all';
            });

            const activeBtn = tab === 'script' ? btnScript : btnOffline;
            activeBtn.className = 'flex-1 py-4 text-sm font-semibold text-white border-b-2 border-primary bg-primary/5 transition-all';

            if (tab === 'offline' && !document.getElementById('assets-grid').innerHTML.trim()) {
                renderAssets();
            }
        }

        function setSource(source) {
            currentSource = source;
            
            document.getElementById('src-btn-github').className = source === 'github' 
                ? 'px-5 py-2 rounded-lg bg-primary text-white shadow-lg shadow-primary/20 transition-all' 
                : 'px-5 py-2 rounded-lg text-gray-400 hover:text-white transition-all';
            
            document.getElementById('src-btn-gitee').className = source === 'gitee' 
                ? 'px-5 py-2 rounded-lg bg-danger text-white shadow-lg shadow-danger/20 transition-all' 
                : 'px-5 py-2 rounded-lg text-gray-400 hover:text-white transition-all';

            const templates = getSafeCmds(currentChannel);
            document.getElementById('cmd-win').textContent = templates[source].win;
            document.getElementById('cmd-unix').textContent = templates[source].unix;
        }

        function copyText(elementId, btn) {
            const text = document.getElementById(elementId).textContent;
            navigator.clipboard.writeText(text).then(() => {
                const icon = btn.querySelector('i');
                icon.className = 'fa-solid fa-check';
                btn.classList.add('bg-success', 'border-success/30');
                btn.classList.remove('bg-white/10');
                
                setTimeout(() => {
                    icon.className = 'fa-regular fa-copy';
                    btn.classList.remove('bg-success', 'border-success/30');
                    btn.classList.add('bg-white/10');
                }, 2000);
            });
        }

        function toggleNotes() {
            const notes = document.getElementById('release-notes');
            const icon = document.querySelector('#notes-toggle i');
            
            if (notes.classList.contains('hidden')) {
                notes.classList.remove('hidden');
                icon.className = 'fa-solid fa-chevron-up';
            } else {
                notes.classList.add('hidden');
                icon.className = 'fa-solid fa-chevron-down';
            }
        }

        function createAssetCard(platform, asset, size, btnText, btnClass = 'bg-primary hover:bg-blue-600') {
            return `
                <div class="glass-tertiary rounded-2xl p-5 hover-lift hover-glow transition-all duration-300 group gradient-border">
                    <div class="flex items-start justify-between mb-5">
                        <div class="flex items-center gap-3">
                            <div class="w-12 h-12 rounded-xl bg-white/5 flex items-center justify-center">
                                <i class="fa-brands ${platform.icon} ${platform.color} text-2xl"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-sm text-gray-100">${platform.name}</h4>
                                <p class="text-xs text-gray-500">${size} MB</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex flex-col gap-2">
                        <a href="${asset.browser_download_url}" onclick="startDownload(this)" 
                           class="btn-ios ripple w-full ${btnClass} text-white text-xs font-bold py-3.5 rounded-xl text-center transition-all shadow-lg flex items-center justify-center gap-2">
                            <i class="fa-solid fa-download"></i> <span>${btnText}</span>
                        </a>
                    </div>
                </div>
            `;
        }

        function renderAssets() {
            if (!releaseData || !releaseData.assets) return;

            const grid = document.getElementById('assets-grid');
            const loading = document.getElementById('loading-assets');
            
            loading.classList.add('hidden');
            grid.classList.remove('hidden');
            grid.innerHTML = '';

            const platforms = [
                { id: 'windows-x64', matchId: 'windows-amd64', icon: 'fa-windows', name: 'Windows x64', color: 'text-blue-400' },
                { id: 'windows-arm64', matchId: 'windows-arm64', icon: 'fa-windows', name: 'Windows ARM64', color: 'text-purple-400' },
                { id: 'darwin-amd64', matchId: 'darwin-amd64', icon: 'fa-apple', name: 'macOS (Intel)', color: 'text-gray-300' },
                { id: 'darwin-arm64', matchId: 'darwin-arm64', icon: 'fa-apple', name: 'macOS (Apple Silicon)', color: 'text-white' },
                { id: 'linux-x64', matchId: 'linux-amd64', icon: 'fa-linux', name: 'Linux x64', color: 'text-yellow-400' },
                { id: 'linux-arm64', matchId: 'linux-arm64', icon: 'fa-linux', name: 'Linux ARM64', color: 'text-orange-400' }
            ];

            grid.innerHTML += `<div class="md:col-span-3 text-sm font-bold text-gray-300 mb-2 mt-2">汉化版 OpenCode (完整包)</div>`;
            
            platforms.forEach(p => {
                const asset = releaseData.assets.find(a => a.name.includes(p.id) && a.name.endsWith('.zip'));
                if (asset) {
                    const sizeMB = (asset.size / 1024 / 1024).toFixed(1);
                    grid.innerHTML += createAssetCard(p, asset, sizeMB, '完整版下载', 'bg-gradient-to-r from-primary to-secondary shadow-primary/25');
                }
            });

            grid.innerHTML += `<div class="md:col-span-3 text-sm font-bold text-gray-300 mb-2 mt-6">管理工具 (CLI)</div>`;
            
            platforms.forEach(p => {
                const asset = releaseData.assets.find(a => a.name.includes('opencode-cli-') && a.name.includes(p.matchId));
                if (asset) {
                    const sizeMB = (asset.size / 1024 / 1024).toFixed(1);
                    grid.innerHTML += createAssetCard(p, asset, sizeMB, '下载工具', 'bg-white/10 hover:bg-white/20');
                }
            });
            
            const checksums = releaseData.assets.find(a => a.name === 'checksums.txt');
            if (checksums) {
                 grid.innerHTML += `
                    <div class="md:col-span-3 flex justify-center mt-4">
                        <button onclick="showChecksums('${checksums.browser_download_url}')" class="text-xs text-gray-500 hover:text-white flex items-center gap-2 transition-colors group glass-tertiary px-4 py-2 rounded-xl">
                            <i class="fa-solid fa-file-shield group-hover:text-success transition-colors"></i> 查看 SHA256 校验和
                        </button>
                    </div>
                 `;
            }
        }

        async function showChecksums(url) {
            const modal = document.getElementById('checksums-modal');
            const content = document.getElementById('checksums-content');
            
            modal.classList.remove('hidden');
            content.textContent = '正在加载校验和...';
            
            try {
                const resp = await fetch(url);
                if (!resp.ok) throw new Error('Network error');
                const text = await resp.text();
                content.textContent = text;
            } catch (e) {
                content.innerHTML = `无法在线预览。<a href="${url}" target="_blank" class="text-primary hover:underline ml-2">点击下载</a>`;
            }
        }

        function closeChecksums() {
            document.getElementById('checksums-modal').classList.add('hidden');
        }

        function copyChecksums() {
            const text = document.getElementById('checksums-content').textContent;
            navigator.clipboard.writeText(text);
        }

        const fallbackRelease = {
            tag_name: 'v8.6.0',
            published_at: '2026-01-27T00:00:00Z',
            assets: [
                { name: 'opencode-zh-CN-v8.6.0-windows-x64.zip', browser_download_url: `https://github.com/${repo}/releases/download/v8.6.0/opencode-zh-CN-v8.6.0-windows-x64.zip`, size: 52428800 },
                { name: 'opencode-zh-CN-v8.6.0-windows-arm64.zip', browser_download_url: `https://github.com/${repo}/releases/download/v8.6.0/opencode-zh-CN-v8.6.0-windows-arm64.zip`, size: 52428800 },
                { name: 'opencode-zh-CN-v8.6.0-darwin-x64.zip', browser_download_url: `https://github.com/${repo}/releases/download/v8.6.0/opencode-zh-CN-v8.6.0-darwin-x64.zip`, size: 33554432 },
                { name: 'opencode-zh-CN-v8.6.0-darwin-arm64.zip', browser_download_url: `https://github.com/${repo}/releases/download/v8.6.0/opencode-zh-CN-v8.6.0-darwin-arm64.zip`, size: 33554432 },
                { name: 'opencode-zh-CN-v8.6.0-linux-x64.zip', browser_download_url: `https://github.com/${repo}/releases/download/v8.6.0/opencode-zh-CN-v8.6.0-linux-x64.zip`, size: 51380224 },
                { name: 'opencode-zh-CN-v8.6.0-linux-arm64.zip', browser_download_url: `https://github.com/${repo}/releases/download/v8.6.0/opencode-zh-CN-v8.6.0-linux-arm64.zip`, size: 51380224 },
                { name: 'opencode-cli-windows-amd64.exe', browser_download_url: `https://github.com/${repo}/releases/download/v8.6.0/opencode-cli-windows-amd64.exe`, size: 8200000 },
                { name: 'opencode-cli-windows-arm64.exe', browser_download_url: `https://github.com/${repo}/releases/download/v8.6.0/opencode-cli-windows-arm64.exe`, size: 8200000 },
                { name: 'opencode-cli-darwin-amd64', browser_download_url: `https://github.com/${repo}/releases/download/v8.6.0/opencode-cli-darwin-amd64`, size: 7500000 },
                { name: 'opencode-cli-darwin-arm64', browser_download_url: `https://github.com/${repo}/releases/download/v8.6.0/opencode-cli-darwin-arm64`, size: 7500000 },
                { name: 'opencode-cli-linux-amd64', browser_download_url: `https://github.com/${repo}/releases/download/v8.6.0/opencode-cli-linux-amd64`, size: 7900000 },
                { name: 'opencode-cli-linux-arm64', browser_download_url: `https://github.com/${repo}/releases/download/v8.6.0/opencode-cli-linux-arm64`, size: 7900000 }
            ],
            body: '详见 [CHANGELOG.md](https://github.com/1186258278/OpenCodeChineseTranslation/blob/main/CHANGELOG.md)'
        };

        function applyReleaseData(data, isFallback = false) {
            releaseData = data;
            
            if (data.tag_name) {
                document.getElementById('latest-version').textContent = data.tag_name;
                document.getElementById('dash-version').textContent = data.tag_name;
            }

            if (data.published_at) {
                const date = new Date(data.published_at);
                const timeStr = date.toLocaleString('zh-CN', { month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' });
                document.getElementById('dash-date').textContent = isFallback 
                    ? `${timeStr} (缓存)` 
                    : `${timeStr} 构建`;
            }

            if (data.body) {
                const html = marked.parse(data.body);
                document.getElementById('notes-content').innerHTML = html;
            }

            renderAssets();
        }

        // Init
        (async () => {
            await switchChannel('stable');
        })();
    </script>
</body>
</html>
